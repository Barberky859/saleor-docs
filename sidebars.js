const { title, ref } = require("./sidebars/utils");
const { buildingApps } = require("./sidebars/building-apps");
const { appStore } = require("./sidebars/app-store");
const { coreConcepts } = require("./sidebars/core-concepts");
const { community } = require("./sidebars/community");
const { selfHosting } = require("./sidebars/self-hosting");
const { extending } = require("./sidebars/extending");

const backToHome = {
  type: "ref",
  id: "index",
  label: "<- Back to home",
  className: "menu__backlink",
  customProps: {
    sidebar_is_backlink: true,
    sidebar_icon: "back-arrow",
  },
};

module.exports = {
  main: [
    {
      type: "doc",
      id: "index",
      label: "Overview",
    },
    {
      type: "category",
      label: "Quickstart",
      items: [
        "quickstart/cloud",
        "quickstart/running-locally",
        "quickstart/api",
        "quickstart/storefront",
      ],
    },
    {
      type: "category",
      label: "Why Saleor",
      items: [
        "overview/why-saleor/headless",
        "overview/why-saleor/composable",
        "overview/why-saleor/extensibility",
        "overview/why-saleor/open-source",
        "overview/why-saleor/graphql",
        "overview/why-saleor/saas-self-host",
        "overview/why-saleor/scalable",
        "overview/why-saleor/multi-market",
      ],
    },

    title("Product"),
    ref("cloud", "Cloud"),
    ref("developer/index"),

    title("API"),
    ref("api-reference/api-reference"),
    ref("api-usage/overview", "GraphQL"),

    title("Customizing"),
    ref("developer/app-store/overview", "Apps and integrations"),
    ref("developer/extending/apps/overview", "Building apps"),
    ref("developer/extending/overview", "Extending"),

    title("Additional resources"),
    ref("setup/overview", "Self-hosting"),
    ref("developer/community/contributing", "Community"),
  ],
  concepts: [backToHome, ...coreConcepts],
  appStore: [backToHome, ...appStore],
  buildingApps: [backToHome, ...buildingApps],
  graphql: [
    backToHome,
    {
      type: "autogenerated",
      dirName: "api-usage",
    },

    "developer/extending/apollo-federation",
  ],
  api: [
    backToHome,
    {
      type: "autogenerated",
      dirName: "api-reference",
    },
  ],
  extending: [backToHome, ...extending],
  selfHosting: [backToHome, ...selfHosting],
  community: [backToHome, ...community],
  cloud: [
    backToHome,
    "cloud",
    { type: "ref", id: "quickstart/cloud" },
    "restricting-api-access",
  ],
};
